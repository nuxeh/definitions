name: bsp-armv7l-rocketboard
kind: stratum
description: |
  The platform dependent components required to boot the Altera Cortex-A9
  HPS core on an Altera SoCFPGA Rocket Board development kit.
build-depends:
- morph: strata/core.morph
chunks:
- name: golang
  morph: strata/golang/golang.morph
  repo: https://go.googlesource.com/go
  ref: 883bc6ed0ea815293fe6309d66f967ea60630e87
  unpetrify-ref: go1.4.2
- name: docopt
  morph: strata/bsp-armv7l-rocketboard/docopt.morph
  repo: https://github.com/docopt/docopt.go
  ref: 854c423c810880e30b9fecdabb12d54f4a92f9bb
  unpetrify-ref: master
# in golang chunk
- name: mkpimage
  morph: strata/bsp-armv7l-rocketboard/mkpimage.morph
  repo: https://github.com/Lefinnois/mkpimage.git
  ref: 1922e4b0f446e8db01c3a784d52a6f65b460de5b
  unpetrify-ref: master
  build-depends:
  - golang
  - docopt
- name: device-tree-compiler
  morph: strata/bsp-armv7l-rocketboard/device-tree-compiler.morph
  repo: upstream:device-tree-compiler
  ref: 302fca9f4c283e1994cf0a5a9ce1cf43ca15e6d2
  unpetrify-ref: v1.4.1
- name: u-boot@socfpga-devkit
  morph: strata/bsp-armv7l-rocketboard/u-boot@socfpga-devkit.morph
  repo: upstream:u-boot
  ref: 905e8f9e53766e606bd4a0ed46d804889e613f32
  unpetrify-ref: v2015.07-rc1
  build-depends:
  - device-tree-compiler
- name: bsp-support
  morph: strata/bsp-armv7l-rocketboard/bsp-support.morph
  repo: https://github.com/nuxeh/bsp-support.git
  ref: 8022392e684b24786cdc7da012a3fef1839fcae8
  unpetrify-ref: edcragg/baserock-on-altera-socfpga-devkit
  build-depends:
  - u-boot@socfpga-devkit

# build dtb (generate a new one)
# copy handoff to /tmp
# make env
# FPGA design file - RBF handling

#- name: preloader@socfpga-devkit
#  morph: strata/bsp-armv7l-rocketboard/u-boot@socfpga-devkit.morph
#  repo: upstream:u-boot
#  ref: 905e8f9e53766e606bd4a0ed46d804889e613f32
#  unpetrify-ref: v2015.07-rc1
#  build-depends:
#  - mkpimage
#  - bsp-support
# Modify Makefile

- name: linux-armv7l-rocketboard
  morph: strata/bsp-armv7l-rocketboard/linux-armv7l-rocketboard.morph
  repo: upstream:linux
  ref: e26081808edadfd257c6c9d81014e3b25e9a6118
  unpetrify-ref: v4.1-rc4
